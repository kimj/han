<!DOCTYPE HTML>
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width"/>
    <meta charset="utf-8"/>
    <title>dongsa.net test suite</title>
    <script type="text/javascript" src="scripts/json2.js"></script>
    <script type="text/javascript" src="scripts/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="scripts/underscore.js" charset="utf-8"></script>
    <script type="text/javascript" src="scripts/functional.js" charset="utf-8"></script>
    <script type="text/javascript" src="korean/hangeul.js" charset="utf-8"></script>
    <script type="text/javascript" src="korean/pronunciation.js" charset="utf-8"></script>
    <script type="text/javascript" src="korean/conjugator.js" charset="utf-8"></script>
    <script>
var assert = function() {
    this.equal = function(x, y) {
        if (x != y) {
            $('#report').append(x + ' != ' + y + '<br/>');
        } else {
            $('#report').append('. ');
        }
    };
    this.deepEqual = function(x, y) {
        if (!_deepEqual(x, y)) {
            $('#report').append(x + ' != ' + y + '<br/>');
        } else {
            $('#report').append('. ');
        }
    };
    return this;
}();

function _deepEqual(a, b) {
    if (a == b) {
        return true;
    }
    try {
        var ka = Object.keys(a),
            kb = Object.keys(b),
            key, i;
    } catch (e) {//happens when one is a string literal and the other isn't
        return false;
    }
    // having the same number of owned properties (keys incorporates hasOwnProperty)
    if (ka.length != kb.length)
        return false;
    //the same set of keys (although not necessarily the same order),
    ka.sort();
    kb.sort();
    //~~~cheap key test
    for (i = ka.length - 1; i >= 0; i--) {
        if (ka[i] != kb[i])
            return false;
    }
    //equivalent values for every corresponding key, and
    //~~~possibly expensive deep test
    for (i = ka.length - 1; i >= 0; i--) {
        key = ka[i];
        if (!_deepEqual(a[key], b[key] )) {
            console.log('not deeply equal');
            return false;
        }
    }
    return true;
}


    </script>
</head>
<body>
<div id="report">
</div>
<script type="text/javascript" src="korean/test/test_hangeul.js" charset="utf-8"></script>
<script type="text/javascript" src="korean/test/test_pronunciation.js" charset="utf-8"></script>
<script type="text/javascript" src="korean/test/test_conjugator.js" charset="utf-8"></script>
</body>
</html>
